{"version":3,"file":"static/js/305.0cf30ea0.chunk.js","mappings":"kOASA,MAIMA,EAAY,CAChB,CACEC,KAAM,iEACNC,QAAS,2EACTC,MAAO,EACPC,QAAS,KAqIb,EAlIiBC,KACf,MAAOC,EAAcC,IAAmBC,EAAAA,EAAAA,UAASR,IAE1CS,EAAWC,IAAgBF,EAAAA,EAAAA,WAAS,IACpCG,EAAUC,IAAeJ,EAAAA,EAAAA,aAUhCK,EAAAA,EAAAA,YAAU,MACRC,EAAAA,EAAAA,IAAc,CACZC,UAAWC,IACTT,EAAgBS,EAAK,EAEvBC,OAAQD,IACNE,MAAM,oBAAU,EAElBC,QAASH,IACPE,MAAM,8EAAkB,GAE1B,GACD,IAEH,MAcME,EAAU,CACd,CACEC,MAAO,qBACPC,UAAW,OACXC,OAAQA,CAACC,EAAMC,KACbC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACEC,EAAAA,EAAAA,KAAA,OACEC,MAAO,CAAEC,MAAO,OAAQC,aAAc,QACtCC,IAAKC,GAAyBR,EAAOrB,QACrC8B,IAAI,+BAENN,EAAAA,EAAAA,KAACO,EAAAA,EAAO,CAAAR,SACLS,MAAMC,KAAK,CAAEC,OAAQb,EAAOtB,QAAS,CAACoC,EAAGC,KACxCZ,EAAAA,EAAAA,KAAA,OAEEI,IAA8B,mBAC9BE,IAAI,QAFCM,WASjB,CACEnB,MAAO,qBACPC,UAAW,YACXC,OAAQA,CAACC,EAAMC,KACbG,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,KAAAD,SAAIF,EAAOxB,UAIjB,CACEoB,MAAO,eACPC,UAAW,UACXC,OAAQA,CAACC,EAAMC,EAAOe,KACpBZ,EAAAA,EAAAA,KAAA,OACEC,MAAO,CACLC,MAAO,QACPW,SAAU,aACVC,UAAW,SACXC,QAAS,OACTC,eAAgB,UAChBjB,UAEFC,EAAAA,EAAAA,KAAA,KAAAD,SAAIF,EAAOvB,aAIjB,CACEmB,MAAO,2BACPwB,QAAQjB,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,YAChBJ,OAAQA,CAACC,EAAMC,EAAQe,KACrBZ,EAAAA,EAAAA,KAACkB,EAAAA,EAAQ,CAACC,QAASA,IAtFDP,KACtB9B,GAAa,GACbE,EAAY4B,EAAM,EAoFWQ,CAAgBR,GAAOb,SAAC,gCAIvD,OACED,EAAAA,EAAAA,MAACuB,EAAAA,GAAc,CACbC,MAAO,CACLC,MAAO,CACLC,aAAcC,EAAAA,EAAOC,MAAMC,MAE7BC,WAAY,CACVC,MAAO,CACLC,SAAU,OACVC,YAAaN,EAAAA,EAAOC,MAAMM,QAG9BjC,SAAA,EAEFC,EAAAA,EAAAA,KAACiC,EAAAA,EACC,CACAzC,QAASA,EACT0C,WAAYxD,EACZyD,YAAY,IAEbtD,IACCmB,EAAAA,EAAAA,KAACoC,EAAAA,EAAQ,CACPC,QAnHiBC,KACvBxD,GAAa,EAAM,EAmHbyD,KAAM7D,EAAaK,GACnByD,YA/FUC,MAChBvD,EAAAA,EAAAA,IAAc,CACZC,UAAWC,IACTT,EAAgBS,EAAK,EAEvBC,OAAQD,IACNE,MAAM,oBAAU,EAElBC,QAASH,IACPE,MAAM,8EAAkB,GAE1B,MAuFe,C,0DChJd,MAAMiB,GAAOmC,EAAAA,EAAAA,GAAA,OAAAC,OAAA,aAAAD,CAAA,uGAWPjB,EAAAA,EAAOC,MAAMkB,KAAI,+B","sources":["pages/mypage/MyReview.js","styles/common/StarCss.js"],"sourcesContent":["import { ConfigProvider, Table } from \"antd\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Common } from \"../../styles/CommonCss\";\r\nimport { TableCustom } from \"../../styles/common/tableCss\";\r\nimport RvModal, { RvDelete } from \"../../components/mypage/RvModal\";\r\nimport { StarRev } from \"../../styles/common/StarCss\";\r\nimport { getReviewList } from \"../../api/reviewApi\";\r\nimport { BasicBtR } from \"../../styles/basic/basicBt\";\r\n\r\nconst onChange = (pagination, filters, sorter, extra) => {\r\n  console.log(\"params\", pagination, filters, sorter, extra);\r\n};\r\n\r\nconst initState = [\r\n  {\r\n    name: \"더 페이머스 그라우스 700ml\",\r\n    writing: \"져라ㅏㅏㅏㅏㅏㅏㅏㅏㅏㅏ\",\r\n    grade: 4,\r\n    picture: \"\",\r\n  },\r\n];\r\nconst MyReview = () => {\r\n  const [myReviewData, setmyReviewData] = useState(initState);\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [modalKey, setModalKey] = useState();\r\n\r\n  const handleCloseModal = () => {\r\n    setShowModal(false);\r\n  };\r\n  const handleShowModal = index => {\r\n    setShowModal(true);\r\n    setModalKey(index);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    getReviewList({\r\n      successFn: data => {\r\n        setmyReviewData(data);\r\n      },\r\n      failFn: data => {\r\n        alert(\"most 실패\");\r\n      },\r\n      errorFn: data => {\r\n        alert(\"서버상태 불안정 다음에 시도\");\r\n      },\r\n    });\r\n  }, []);\r\n\r\n  const fetchData = () => {\r\n    getReviewList({\r\n      successFn: data => {\r\n        setmyReviewData(data);\r\n      },\r\n      failFn: data => {\r\n        alert(\"most 실패\");\r\n      },\r\n      errorFn: data => {\r\n        alert(\"서버상태 불안정 다음에 시도\");\r\n      },\r\n    });\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: \"이미지\",\r\n      dataIndex: \"name\",\r\n      render: (text, record) => (\r\n        <div>\r\n          <img\r\n            style={{ width: \"80px\", marginBottom: \"10px\" }}\r\n            src={process.env.PUBLIC_URL + record.picture}\r\n            alt=\"리뷰 작성\"\r\n          />\r\n          <StarRev>\r\n            {Array.from({ length: record.grade }, (_, index) => (\r\n              <img\r\n                key={index}\r\n                src={process.env.PUBLIC_URL + \"/images/star.png\"}\r\n                alt=\"star\"\r\n              />\r\n            ))}\r\n          </StarRev>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"제품명\",\r\n      dataIndex: \"productNm\",\r\n      render: (text, record) => (\r\n        <div>\r\n          <p>{record.name}</p>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"내용\",\r\n      dataIndex: \"content\",\r\n      render: (text, record,index) => (\r\n        <div\r\n          style={{\r\n            width: \"600px\",\r\n            wordWrap: \"break-word\",\r\n            textAlign: \"center\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <p>{record.writing}</p>\r\n        </div>\r\n      ),\r\n    },\r\n    {\r\n      title: \"리뷰삭제\",\r\n      button: <button>ddldldd</button>,\r\n      render: (text, record, index) => (\r\n        <BasicBtR onClick={() => handleShowModal(index)}>리뷰 삭제</BasicBtR>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <ConfigProvider\r\n      theme={{\r\n        token: {\r\n          colorPrimary: Common.color.p900,\r\n        },\r\n        components: {\r\n          Table: {\r\n            headerBg: \"none\",\r\n            headerColor: Common.color.p500,\r\n          },\r\n        },\r\n      }}\r\n    >\r\n      <TableCustom\r\n        // rowSelection={rowSelection}\r\n        columns={columns}\r\n        dataSource={myReviewData}\r\n        pagination={false}\r\n      />\r\n      {showModal && (\r\n        <RvDelete\r\n          onClose={handleCloseModal}\r\n          code={myReviewData[modalKey]}\r\n          refreshData={fetchData}\r\n        />\r\n      )}\r\n    </ConfigProvider>\r\n  );\r\n};\r\n\r\nexport default MyReview;\r\n","import styled from \"@emotion/styled/macro\";\nimport { Common } from \"../CommonCss\";\n\nexport const StarRev = styled.div`\n  /* padding: 10px 0 20px 0; */\n  display: flex;\n  align-items: center;\n  img {\n    width: 19px;\n    height: 15px;\n  }\n  a {\n    margin-left: 10px;\n    font-size: 13px;\n    color: ${Common.color.p400};\n    text-decoration: underline;\n  }\n`;\n"],"names":["initState","name","writing","grade","picture","MyReview","myReviewData","setmyReviewData","useState","showModal","setShowModal","modalKey","setModalKey","useEffect","getReviewList","successFn","data","failFn","alert","errorFn","columns","title","dataIndex","render","text","record","_jsxs","children","_jsx","style","width","marginBottom","src","process","alt","StarRev","Array","from","length","_","index","wordWrap","textAlign","display","justifyContent","button","BasicBtR","onClick","handleShowModal","ConfigProvider","theme","token","colorPrimary","Common","color","p900","components","Table","headerBg","headerColor","p500","TableCustom","dataSource","pagination","RvDelete","onClose","handleCloseModal","code","refreshData","fetchData","_styled","target","p400"],"sourceRoot":""}