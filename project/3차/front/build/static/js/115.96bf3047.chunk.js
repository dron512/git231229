"use strict";(self.webpackChunkrv18_basic=self.webpackChunkrv18_basic||[]).push([[115],{5384:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var r=n(2791),i=n(2009),a=n(8024),s=n(5750),o=n(6535);const l=(0,s.Z)("div",{target:"e1834n9t4"})({name:"q25zk3",styles:"position:relative;display:flex;min-width:1000px;gap:20px;border:none;margin:0 auto"}),c=(0,s.Z)("div",{target:"e1834n9t2"})("position:relative;display:flex;width:400px;height:50px;justify-content:space-between;text-align:center;border-radius:10px;align-items:center;padding:0 20px;border:2px solid ",o.G.color.p500,";"),d=(0,s.Z)("div",{target:"e1834n9t1"})("position:relative;min-width:400px;align-items:center;padding:20px 10px;border-bottom:2px solid ",o.G.color.p200,";.branch{position:relative;display:flex;gap:5px;}"),p=(0,s.Z)("div",{target:"e1834n9t0"})({name:"rvtfpm",styles:"height:500px;overflow:scroll"});var u=n(7291),g=n(914),m=(n(4709),n(184));const h=e=>{let{market:t}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(d,{children:[(0,m.jsxs)("div",{className:"branch",children:[(0,m.jsx)(u.Zi,{children:t.marketname}),(0,m.jsx)(u.Zi,{children:"|"}),(0,m.jsx)(u.Zi,{children:t.Branch})]}),(0,m.jsx)(g.C8,{}),(0,m.jsxs)("div",{children:[(0,m.jsxs)(u.vD,{children:[t.address," "]}),(0,m.jsx)(u.vD,{children:t.phonenumber})]})]})})};var x=n(9235),f=n(5294),v=n(3014);const y="".concat(v.L,"/market"),b=new window.kakao.maps.services.Geocoder,j=e=>new Promise(((t,n)=>{b.addressSearch("".concat(e),(function(e,r){if(r===window.kakao.maps.services.Status.OK){const n={lat:e[0].y,lng:e[0].x};t(n)}else n(r)}))}));const w=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)(!0),[o,d]=(0,r.useState)([{position:{lat:0,lng:0}}]),[v,w]=(0,r.useState)({lat:0,lng:0}),[k,S]=(0,r.useState)({lat:0,lng:0}),[Z,F]=(0,r.useState)((()=>[{position:{lat:0,lng:0}}])),C=async()=>{const e=await(async()=>await f.Z.get("http://threeback.hellomh.site/market/address"))();if(null!=e.data){Z.splice(0,1);for(let t=0;t<e.data.length;t++)await j(e.data[t].address).then((e=>{o.push({position:{lat:e.lat,lng:e.lng}})}));return F(o),s(!1),e}};return(0,r.useEffect)((()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){w({lat:e.coords.latitude,lng:e.coords.longitude}),S({lat:e.coords.latitude,lng:e.coords.longitude})})),C(),b.coord2Address(k.lng,k.lat,(function(e,t){t===window.kakao.maps.services.Status.OK&&(document.getElementById("myaddress").innerText=e[0].address.address_name)})),(async e=>{let{successFn:t,failFn:n,errorFn:r}=e;try{const e="".concat(y,"/address"),r=await f.Z.get(e);"2"===r.status.toString().charAt(0)?t(r.data):n("\uba54\uc778 \ubaa8\uc2a4\ud2b8 \ub370\uc774\ud130 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328")}catch(i){r(i)}})({successFn:e=>{t(e)},failFn:e=>{alert("\ub9c8\ucf13\uc815\ubcf4 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328")},errorFn:e=>{alert("\uc11c\ubc84 \ubd88\uc548\uc815")}})}),[Z]),n?(0,m.jsx)("div",{children:"Loading..."}):(0,m.jsx)("div",{children:(0,m.jsx)(x.Z,{children:(0,m.jsx)(g.H7,{children:(0,m.jsx)(g.IU,{children:(0,m.jsxs)(l,{children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)(c,{children:[(0,m.jsx)(u.Zi,{style:{width:"50px"},children:"\ub0b4 \uc704\uce58"}),(0,m.jsx)(u.Zi,{id:"myaddress"})]}),(0,m.jsx)(g.rS,{}),(0,m.jsx)(p,{children:e.map(((e,t)=>(0,m.jsx)(h,{market:e},t)))})]}),(0,m.jsxs)(i.D,{center:v,style:{width:"550px",height:"550px"},level:4,onDragEnd:e=>{const t=e.getCenter();w({lat:t.getLat(),lng:t.getLng()})},children:[(0,m.jsx)(a.O,{position:k,image:{src:"https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png",size:new window.kakao.maps.Size(24,35)}}),Z.map(((e,t)=>{if(null!==Z)return(0,m.jsx)(a.O,{position:e.position,clickable:!0},t)}))]})]})})})})})}},4942:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9142:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(1002);function i(e){var t=function(e,t){if("object"!=(0,r.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.Z)(t)?t:t+""}},1002:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>r})}}]);
//# sourceMappingURL=115.96bf3047.chunk.js.map